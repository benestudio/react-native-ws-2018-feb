{"version":3,"sources":["log.js"],"names":["log","data","args","Array","prototype","slice","call","arguments","respectProgressBars","withTimestamp","prefix","dim","Date","toLocaleTimeString","concat","_bundleProgressBar","setBundleProgressBar","bundleProgressBar","commitLogs","terminate","lastDraw","render"],"mappings":";;;;;;;;;;AAEA;;;;;;AAEA,SAASA,GAAT,CAAaC,IAAb,EAAwB;AACtB,MAAMC,OAAOC,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAb;;AAEAC,sBAAoB,YAAM;AAAA;;AACxB,yBAAQR,GAAR,kDAAeE,IAAf;AACD,GAFD;AAGD;;AAEDF,IAAIS,aAAJ,GAAoB,UAASR,IAAT,EAAoB;AACtC,MAAMS,SAAS,gBAAMC,GAAN,CAAU,IAAIC,IAAJ,GAAWC,kBAAX,EAAV,IAA6C,GAA5D;AACA,MAAMX,OAAO,CAACQ,MAAD,EAASI,MAAT,CAAgBX,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAhB,CAAb;;AAEAC,sBAAoB,YAAM;AAAA;;AACxB,0BAAQR,GAAR,mDAAeE,IAAf;AACD,GAFD;AAGD,CAPD;;AASA,IAAIa,2BAAJ;AACAf,IAAIgB,oBAAJ,GAA2B,UAASC,iBAAT,EAA4B;AACrDF,uBAAqBE,iBAArB;AACD,CAFD;;AAIA,SAAST,mBAAT,CAA6BU,UAA7B,EAAyC;AACvC,MAAIH,kBAAJ,EAAwB;AACtBA,uBAAmBI,SAAnB;AACAJ,uBAAmBK,QAAnB,GAA8B,EAA9B;AACAF;AACAH,uBAAmBM,MAAnB;AACD,GALD,MAKO;AACLH;AACD;AACF;;kBAEclB,G","file":"log.js","sourcesContent":["// @flow\n\nimport chalk from 'chalk';\n\nfunction log(data: any) {\n  const args = Array.prototype.slice.call(arguments, 0);\n\n  respectProgressBars(() => {\n    console.log(...args);\n  });\n}\n\nlog.withTimestamp = function(data: any) {\n  const prefix = chalk.dim(new Date().toLocaleTimeString()) + ':';\n  const args = [prefix].concat(Array.prototype.slice.call(arguments, 0));\n\n  respectProgressBars(() => {\n    console.log(...args);\n  });\n};\n\nlet _bundleProgressBar;\nlog.setBundleProgressBar = function(bundleProgressBar) {\n  _bundleProgressBar = bundleProgressBar;\n};\n\nfunction respectProgressBars(commitLogs) {\n  if (_bundleProgressBar) {\n    _bundleProgressBar.terminate();\n    _bundleProgressBar.lastDraw = '';\n    commitLogs();\n    _bundleProgressBar.render();\n  } else {\n    commitLogs();\n  }\n}\n\nexport default log;\n"]}